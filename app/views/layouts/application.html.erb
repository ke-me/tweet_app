<!DOCTYPE html>
<html>
  <head>
    <title>TweetApp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
  <header>
  <nav>
  <ul>
  <li><%= link_to "TOP", root_path %></li>
  <li><%= link_to "ユーザー一覧", users_path %></li>
  <% if logged_in? %>
  <li><%= link_to "投稿する", new_post_path %></li>
  <li><%= link_to "ログアウト", signout_path, data: { turbo_method: :delete } %></li>
  <li><%= link_to current_user.name , user_path(current_user) %></li>
  <% else %>
  <li><%= link_to "新規登録", new_user_path %></li>
  <li><%= link_to "ログイン", signin_path %></li>
  <% end %>

  </ul>
  </nav>
  </header>
    <% flash.each do |key, message| %>
    <div id="flash-message">
      <% if message.is_a?(Array) %>
        <% message.each do |msg| %>
          <p class="<%= key %>"><%= msg %></p>
        <% end %>
      <% else %>
          <p class="<%= key %>"><%= message %></p>
      <% end %>
      </div>
    <% end %>
    <%= yield %>
  </body>
</html>
